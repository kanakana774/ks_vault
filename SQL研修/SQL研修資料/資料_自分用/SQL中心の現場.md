
# SQLを中心とした開発現場（SES案件）の全体像

## 🧱 1. 業務システム系（最も多いパターン）

### 主な仕事
- 業務システム（販売管理・会計・物流など）の**データ抽出・加工・集計処理**をSQLで実装。
- **View、Stored Procedure、Function**を作成・改修。
- **夜間バッチ処理**や**帳票出力用SQL**の調整。
- **障害調査・原因分析**でSQLを用いてデータ追跡。

### よく使う技術
- SQL（Oracle / PostgreSQL / SQL Server / MySQL）
- PL/SQL（Oracle）、T-SQL（SQL Server）
- Shell / Python / JavaなどでのSQLバッチ実行
- BIツール連携（Tableau, Power BIなど）

### よくあるタスク例
| タスク | 内容 |
|--------|------|
| データ抽出 | 月次売上や支店別集計のクエリを作成 |
| 更新SQL | 条件に合致する顧客情報の一括更新 |
| SQLレビュー | クエリロジックや性能を検証 |
| チューニング | インデックス追加やEXPLAIN分析 |
| データ移行 | システム間データ変換・登録処理 |

---

## 🧾 2. データ分析／DWH系（データエンジニア寄り）

### 主な仕事
- 各システムから収集したデータを**DWH（データウェアハウス）**に格納。
- **分析用ビューや集計テーブル**を設計・作成。
- **ETL処理**をSQLで構築（Extract / Transform / Load）。

### よく使う技術
- BigQuery / Snowflake / Redshift / Hive / SparkSQL
- Airflow / Digdag / dbt などのジョブ管理ツール
- GitでSQLモジュールをコード管理

### よくあるタスク例
- 顧客360°ビュー作成（複数システムのJOIN）
- データマート更新ジョブ管理
- 分析指標やロジックの追加・修正

---

## 🏭 3. バッチシステム系（Spring Batch / Shell + SQL）

### 主な仕事
- RDB間でのデータ転送・加工を行う**定期バッチ開発**。
- Java + MyBatisなどで**SQLを呼び出し業務ロジックを実装**。
- テーブル構造や更新順序の設計。

### よく使う技術
- Spring Batch / MyBatis / JDBC
- PostgreSQL / Oracle
- JP1, Systemwalkerなどのジョブ管理ツール

### よくあるタスク例
- 「受注 → 出荷指示 → 出荷確定」の夜間バッチ処理
- トランザクション制御・ロールバック対応
- バッチ性能改善（クエリ分割・バルク更新）

---

## ⚙️ 4. アプリ連携・APIバックエンドの裏側

### 主な仕事
- REST APIの内部で**MyBatisやJPAを使ってSQLを設計・実装**。
- SQL性能を最適化してAPIレスポンスを改善。

### 例
```sql
SELECT user_id, SUM(amount)
FROM payments
WHERE payment_date BETWEEN :from AND :to
GROUP BY user_id;
```

→ MyBatis Mapperに組み込み、Javaコードから呼び出し。

---

## 🎯 現場で求められるスキル

|カテゴリ|スキル内容|
|---|---|
|SQL構文|SELECT / JOIN / GROUP BY / サブクエリ / CASE|
|パフォーマンス|インデックス設計、実行計画（EXPLAIN）の読解|
|データモデリング|正規化、ER図、主従関係の理解|
|トランザクション制御|COMMIT単位、排他制御|
|障害調査|データ不整合や件数差異の原因特定|

---

## 💬 SES案件としての特徴

- **業務担当者との連携が多い**（仕様確認・抽出条件相談など）。
    
- 新規開発よりも**保守・改修・運用対応**が中心。
    
- **既存SQLの解析・修正・チューニング**の比率が高い。
    
- 開発スピードよりも**正確性と検証力**が重視される。
    

---

## 🔍 まとめ

|項目|内容|
|---|---|
|主な目的|データ加工・集計・連携|
|主な成果物|SQLスクリプト、ビュー、ストアド、ETLジョブ|
|関連領域|業務システム、DWH、バッチ、API|
|成長方向|データエンジニア／バッチエンジニア／業務SE|

---

> 💡 **補足**  
> SQL中心の現場は「地味だが本質的」な世界です。  
> データ構造や業務ロジックを理解し、チューニングや調査力を磨くと  
> アプリ側・分析側のどちらにもキャリア展開しやすい分野です。