### **IT 初心者向け SQL 用語解説リスト**

#### ** 1 : データベースの基本構造**

まず、データがどのように格納され、管理されているかの全体像と、構成要素の呼び名を覚えましょう。

| 用語 (英語名/略称)                                 | 説明                                                                                                                                                              |
| :------------------------------------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **RDBMS** (リレーショナルデータベース管理システム) | データを**テーブル**という表形式で管理し、テーブル間の関係性（リレーション）を定義できるソフトウェアです。MySQL, PostgreSQL, Oracle などが有名です。              |
| **スキーマ**                                       | データベース内のテーブルやビューなどのオブジェクトを論理的にグループ化するための入れ物です。製品によって定義が異なり、Oracle ではユーザーに紐づく領域を指します。 |
| **テーブル**                                       | データが実際に格納される「表」そのものです。「顧客テーブル」「商品テーブル」のように、特定のテーマに沿ったデータがまとめられています。                            |
| **レコード** (行、タプル)                          | テーブル内の一行分のデータです。例えば、「顧客テーブル」における「顧客 1 人分」の情報が 1 レコードにあたります。                                                  |
| **カラム** (列、フィールド)                        | テーブル内の特定の項目（属性）です。例えば、「顧客テーブル」における「氏名」や「住所」といった項目がカラムにあたります。                                          |
| **マスターテーブル**                               | 商品マスタや顧客マスタなど、業務の基本となる「基礎情報」を格納するテーブルです。変更頻度は低いです。                                                              |
| **トランザクションテーブル**                       | 売上履歴や注文履歴など、日々の業務で発生する「取引情報」を記録するテーブルです。データが頻繁に追加されます。                                                      |

#### ** 2 : SQL の基本操作と構文ルール**

データベースに命令を出す「SQL」の最も基本的な構文と、記述する上でのルールです。

| 用語 (英語名/略称)                  | 説明                                                                                                                                             |
| :---------------------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------- |
| **SQL** (Structured Query Language) | RDBMS にデータの操作や定義を指示するための言語です。「エスキューエル」または「シークェル」と読みます。                                           |
| **SELECT**                          | テーブルからデータを**取得（検索）**するための最も基本的な命令です。                                                                             |
| **INSERT**                          | テーブルに新しいデータを**追加**するための命令です。                                                                                             |
| **UPDATE**                          | テーブル内の既存のデータを**更新**するための命令です。                                                                                           |
| **DELETE**                          | テーブルからデータを**削除**するための命令です。                                                                                                 |
| **WHERE 句**                        | `SELECT`, `UPDATE`, `DELETE`文と組み合わせて、処理対象のレコードを特定の条件で絞り込むために使います。                                           |
| **ORDER BY 句**                     | `SELECT`文の結果を、指定したカラムの値に基づいて**並べ替える**ために使います。昇順（ASC）または降順（DESC）を指定できます。                      |
| **OFFSET 句**                       | 取得結果の開始位置を指定する句で、`LIMIT`句（行数制限）と組み合わせてページネーション（例: 検索結果の 2 ページ目を表示）などで利用されます。     |
| **LIKE 演算子**                     | 文字列の部分一致検索を行うための演算子です。`%`（0 文字以上の任意の文字列）や `_`（任意の 1 文字）といったワイルドカードと組み合わせて使います。 |
| **リテラル**                        | SQL 文の中に直接書き込む固定値のことです。`'文字列'` や `123` のような値がリテラルにあたります。                                                 |
| **予約語**                          | `SELECT`や`FROM`など、SQL の構文として意味を持つ単語です。テーブル名やカラム名として使用することはできません。                                   |
| **スネークケース**                  | `user_id`のように、単語間をアンダースコア（\_）で繋ぐ命名規則で、SQL ではテーブル名やカラム名に推奨されます。                                    |
| **INTERVAL**                        | PostgreSQL などで、日付や時刻に特定の期間（例: '7 day'や'1 month'）を加算・減算する際に使用されるキーワードです。                                |

#### ** 3 : データ型と値の正しい扱い**

データを正しく格納し、意図しないエラーを防ぐためのデータ型や値の概念です。

| 用語 (英語名/略称)           | 説明                                                                                                                                                     |
| :--------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **データ型**                 | カラムにどのような種類のデータ（数値、文字列、日付など）を格納するかを定義するものです。                                                                 |
| **NUMERIC / DECIMAL**        | **正確な**数値を格納する固定小数点数型です。金額計算など、誤差が許されない場面で必ず使用します。                                                         |
| **DOUBLE PRECISION / FLOAT** | **近似値**を格納する浮動小数点数型です。内部的に 2 進数で表現されるため、10 進数の小数を扱うと**丸め誤差**が生じる可能性があります。                     |
| **丸め誤差**                 | 10 進数の小数を 2 進数で正確に表現できない場合に生じる、ごくわずかな誤差です。このため、金額計算に浮動小数点数型を使うべきではありません。               |
| **NULL**                     | 「値がない」「不明」という特殊な状態を表します。**空文字('')** や数値の **0** とは全く異なる概念で、`NULL = NULL`の比較結果は真になりません。            |
| **型推論**                   | SQL エンジンが、`123`は整数、`'abc'`は文字列、というようにリテラルの形式からデータ型を自動的に判断する機能です。                                         |
| **暗黙の型変換**             | 異なるデータ型の値を比較・演算する際に、SQL エンジンが自動的に型を合わせようとすることです。予期せぬ結果やパフォーマンス低下の原因になることがあります。 |

#### ** 4 : テーブル設計とデータの整合性 (正規化)**

データを正しく、効率的に管理するためのテーブル設計のルールです。

| 用語 (英語名/略称)                | 説明                                                                                                                                                         |
| :-------------------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **主キー (PRIMARY KEY)**          | 各レコードを一意に識別するためのカラム（またはその組み合わせ）です。「重複しない」「NULL でない」という制約があります。                                      |
| **複合主キー**                    | 複数のカラムを組み合わせて、一つの主キーとして定義したものです。組み合わせた値全体で一意性が保証されます。                                                   |
| **外部キー (FOREIGN KEY)**        | 他のテーブルの主キーを参照するカラムです。テーブル間の関連性を定義し、**参照整合性**を保つために使われます。                                                 |
| **参照整合性**                    | 外部キーによって保たれる、テーブル間の関連性の正しさです。例えば、存在しない顧客 ID の注文データが作られないようにします。                                   |
| **正規化**                        | データの**冗長性（重複）**をなくし、整合性を保ちやすくするためにテーブルを分割・整理する設計手法です。                                                       |
| **冗長性**                        | 同じデータが複数の場所に重複して保存されている状態です。正規化によってこれを解消します。                                                                     |
| **部分関数従属 (二正規形違反)**   | 複合主キーの一部だけに依存するカラムが存在する状態です。正規化の過程で解消すべき対象とされます。                                                             |
| **推移的関数従属 (三正規形違反)** | 主キー以外のカラムに依存するカラムが存在する状態です。正規化の過程で解消すべき対象とされます。                                                               |
| **論理削除**                      | データを物理的に削除せず、「削除フラグ」のようなカラムを使って「削除済み」と見なす運用方法です。履歴を保持したい場合や復旧の可能性がある場合に採用されます。 |
| **自動採番 (オートナンバー)**     | レコード追加時に、データベースが自動的に連番を割り振る機能です。ID を主キーにする際によく利用されます。                                                      |

#### ** 5 : 複数テーブルの結合と集合演算**

リレーショナルデータベースの真価である、複数のテーブルを連携させる方法です。

| 用語 (英語名/略称)          | 説明                                                                                                                                 |
| :-------------------------- | :----------------------------------------------------------------------------------------------------------------------------------- |
| **JOIN (結合)**             | 複数のテーブルを、関連するカラムをキーにして横方向に連結し、一つの結果として取得する方法です。                                       |
| **集合演算**                | 複数の`SELECT`文の結果を、縦方向に結合（和、差、積）するための演算です。各 SELECT 文のカラム数とデータ型を一致させる必要があります。 |
| **UNION (和集合)**          | 複数の`SELECT`文の結果を結合し、**重複する行を排除**して返します。                                                                   |
| **INTERSECT (積集合)**      | 複数の`SELECT`文の結果に**共通して存在する行のみ**を返します。                                                                       |
| **EXCEPT / MINUS (差集合)** | 最初の`SELECT`文の結果から、2 番目の`SELECT`文の結果に**存在する行を除いて**返します。                                               |

#### ** 6 : 高度なクエリテクニック**

より複雑で高度なデータ抽出を行うためのテクニックです。

| 用語 (英語名/略称)            | 説明                                                                                                                                |
| :---------------------------- | :---------------------------------------------------------------------------------------------------------------------------------- |
| **GROUP BY 句**               | 指定したカラムの値が同じレコードをグループ化し、集約関数（SUM, COUNT 等）を適用するために使います。                                 |
| **HAVING 句**                 | `GROUP BY`で**集計した結果**に対して条件を指定し、さらにグループを絞り込むために使います。                                          |
| **CASE 式**                   | SQL 文の中で条件分岐を行うための構文です。プログラミングの if 文のように、条件に応じて返す値を切り替えることができます。            |
| **サブクエリ (副問い合わせ)** | `SELECT`文の中に埋め込まれた別の`SELECT`文のことです。クエリを段階的に組み立てるのに役立ちます。                                    |
| **スカラサブクエリ**          | 結果が単一行・単一列（一つの値）になるサブクエリです。`SELECT`句や`WHERE`句で値として利用できます。                                 |
| **派生テーブル**              | `FROM`句に記述されたサブクエリのことです。その実行結果が一時的なテーブルとして扱われます。                                          |
| **相関サブクエリ**            | サブクエリの内側が、外側のクエリが処理している現在の行の値を参照するサブクリです。パフォーマンスに影響を与えることがあります。      |
| **EXISTS / NOT EXISTS**       | サブクエリの結果が 1 行でも存在するかどうかを判定する演算子です。行の存在有無だけを確認したい場合に`IN`より効率的なことがあります。 |
| **CTE** (共通テーブル式)      | `WITH`句を使って定義する、名前付きの一時的な結果セットです。複雑なクエリの可読性を大幅に向上させます。                              |
| **再帰 CTE**                  | 自身を繰り返し参照することで、組織図のような階層構造データを展開できる特殊な CTE です。                                             |
| **ウィンドウ関数**            | `GROUP BY`のように行を集約せず、元の行数を保ったまま、特定の範囲（ウィンドウ）の集計結果や順位を各行に付与できる強力な関数です。    |
| **OVER()句**                  | ウィンドウ関数であることを示し、その後の括弧内で計算対象となる行の範囲（ウィンドウ）を定義します。                                  |
| **PARTITION BY 句**           | `OVER()`句の中で使い、データを特定のグループ（パーティション）に分割します。このグループ内でウィンドウ関数の計算が行われます。      |
| **ウィンドウフレーム**        | `ORDER BY`句と組み合わせて、現在の行を中心とした計算範囲（例えば「前後 1 行」）をより細かく定義する機能です。                       |
| **累計売上 (Running Total)**  | ウィンドウ関数を使って、ある時点までの数値を時系列で累計していく計算です。                                                          |
| **移動平均 (Moving Average)** | ウィンドウ関数を使って、時系列データにおける特定期間（例: 過去 3 日間）の平均値を計算し、トレンドを滑らかにする分析手法です。       |

#### ** 7 : トランザクションとデータの整合性 (ACID 特性)**

複数の処理を一つのまとまりとして扱い、データの安全性を保証する仕組みです。

| 用語 (英語名/略称)       | 説明                                                                                                                                             |
| :----------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------- |
| **トランザクション**     | 関連する一連の処理を一つにまとめた単位です。「全ての処理が成功する」か「全て失敗する」かのどちらかであることが保証されます。                     |
| **ACID 特性**            | トランザクションが持つべき 4 つの性質（**原子性**, **一貫性**, **独立性**, **永続性**）の頭文字をとったもので、データの信頼性を保証します。      |
| **原子性 (Atomicity)**   | トランザクション内の処理が「すべて成功する」か「すべて失敗する（元に戻る）」かのどちらかであることを保証します。                                 |
| **一貫性 (Consistency)** | トランザクションの前後で、データベースに設定されたルール（制約）を常に満たし、データの矛盾がない状態を保ちます。                                 |
| **独立性 (Isolation)**   | 複数のトランザクションが同時に実行されても、互いに干渉せず、あたかも一つずつ順番に実行されているかのように見せる性質です。                       |
| **永続性 (Durability)**  | 一度正常に完了（コミット）したトランザクションの結果は、システム障害が起きても失われないことを保証します。                                       |
| **SAVEPOINT**            | 長いトランザクションの途中に中間ポイントを設定し、トランザクション全体ではなく、そのポイントまで部分的にロールバックできるようにする仕組みです。 |

#### ** 8 : パフォーマンスチューニングと実行計画**

クエリを高速に実行するための基本的な仕組みと分析手法です。

| 用語 (英語名/略称)                                | 説明                                                                                                                                                                |
| :------------------------------------------------ | :------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **インデックス**                                  | 特定のカラムからデータを高速に検索するための「索引」です。検索パフォーマンスを劇的に改善しますが、データの追加・更新時のコストは増加します。                        |
| **実行計画**                                      | SQL が実行される際に、RDBMS が内部的に立てる「どのような手順でデータにアクセスするか」という処理計画書です。パフォーマンス分析の一歩です。                          |
| **EXPLAIN ANALYZE**                               | 実際にクエリを**実行**し、その結果に基づいて詳細な実行計画（実測時間や行数など）を表示するコマンドです。ボトルネック特定に不可欠です。                              |
| **B-Tree**                                        | 多くの RDBMS で標準的に採用されているインデックスの内部構造です。データがソートされた状態で木構造に格納されており、高速な検索を可能にします。                       |
| **シーケンシャルスキャン (フルテーブルスキャン)** | インデックスを使わず、テーブルの全レコードを最初から最後まで順番に読み込む方法です。                                                                                |
| **複合インデックス**                              | 複数のカラムを組み合わせて作成するインデックスです。`WHERE`句で指定するカラムの順序が重要になります。                                                               |
| **カバリングインデックス**                        | クエリが必要とする全てのカラムがインデックス自体に含まれている状態です。テーブル本体へのアクセスが不要になり、非常に高速です。                                      |
| **Index Only Scan**                               | カバリングインデックスが利用可能な場合に、テーブルにアクセスせずインデックスの情報だけで完結する、最も高速なスキャン方法の一つです。                                |
| **関数インデックス**                              | `LOWER(email)`のように、カラムに特定の関数を適用した結果に対して作成するインデックスです。`WHERE`句で同様の関数を使う場合に有効です。                               |
| **部分インデックス**                              | テーブルの一部の行（例: `is_deleted = false`の行のみ）を対象として作成するインデックスです。インデックスのサイズを小さく保つことができます。                        |
| **ネステッドループ結合**                          | 結合方法の一つ。片方のテーブルの行を 1 つずつループし、もう片方のテーブルから一致する行を探します。片方のテーブルが小さく、もう片方にインデックスがあると高速です。 |
| **ハッシュ結合**                                  | 結合方法の一つ。片方のテーブルからメモリ上にハッシュテーブルを作成し、もう片方のテーブルの行と照合します。等価結合（=）で大量のデータを扱う場合に高速です。         |
| **マージ結合**                                    | 結合方法の一つ。両方のテーブルを結合キーでソートし、順番に照らし合わせながら結合します。データが既にソート済みの場合に非常に高速です。                              |
| **work_mem**                                      | PostgreSQL の設定の一つ。ソートやハッシュ結合などの際に、メモリ上で作業領域として確保されるサイズです。不足するとディスクへの書き出しが発生し遅くなります。         |

#### ** 9 : 手続き型言語 (PL/pgSQL など) と高度な概念**

SQL だけでは難しい複雑なロジックをデータベース内で実現するための応用的な機能です。

| 用語 (英語名/略称)             | 説明                                                                                                                                                        |
| :----------------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **PL/pgSQL**                   | PostgreSQL に組み込まれた手続き型言語です。変数や条件分岐、ループなどを使って、SQL だけでは難しい複雑な処理を**関数**や**プロシージャ**として実装できます。 |
| **無名ブロック**               | `DO`コマンドで実行される、データベースに保存されない一度きりの PL/pgSQL コードです。簡単なテストや一時的な処理に使われます。                                |
| **関数 (FUNCTION)**            | 一連の処理をまとめたもので、**値を返す**ことを主目的とします。`SELECT`文などから呼び出して利用できます。                                                    |
| **プロシージャ (PROCEDURE)**   | 一連の処理をまとめたもので、**値を返しません**。バッチ処理など、一連のデータ更新を行う際に使われ、内部でトランザクション制御が可能です。                    |
| **%TYPE / %ROWTYPE**           | 変数を定義する際に、特定のテーブルのカラムや行と全く同じデータ型を指定できる PL/pgSQL の機能です。テーブル定義の変更に強く、メンテナンス性が向上します。    |
| **RECORD 型**                  | 特定のテーブル構造に縛られない、動的な行データを格納できる疑似データ型です。                                                                                |
| **RETURN NEXT / RETURN QUERY** | 複数行の結果を返す関数（SETOF）で使われる構文です。`RETURN NEXT`は 1 行ずつ、`RETURN QUERY`はクエリ結果全体を返します。                                     |
| **カーソル**                   | 大量の結果セットを一度にメモリに読み込まず、1 行ずつ順番に処理するための仕組みです。                                                                        |
| **動的 SQL**                   | 実行時に SQL 文を文字列として組み立てて実行する機能です。柔軟性が高い一方、**SQL インジェクション**の脆弱性を生みやすいため注意が必要です。                 |
| **SQL インジェクション**       | アプリケーションの入力値として、不正な SQL 文を注入され、データベースを不正に操作されてしまうセキュリティ上の脅威です。                                     |
| **トリガプロシージャ**         | `INSERT`や`UPDATE`など、テーブルに対する特定の操作をきっかけに、自動的に実行される特別な関数です。更新履歴の自動記録などに使われます。                      |
| **シンタックスシュガー**       | 本来は複雑な記述が必要な処理を、より短く分かりやすく書けるようにした便利な構文のことです。                                                                  |
